<a class="remove" href="#close"></a>

<div class="header <%= status %>">

  <div class="title">
    <strong class="legend">
      <% if (status != 'loaded') { %><%= short_legend %><% } else { %><%= legend %><% } %><% if (list_view) { %>:<% } %></strong> 

    <% if (status == 'loading') { %><div class="<%= status %>">Loading</div><% } %>
    <% if (status == 'only') { %><div class="<%= status %>">This column has an unique value</div><% } %>
    <% if (status == 'empty') { %><div class="<%= status %>">This column is empty</div><% } %>
    <% if (status == "loaded") { %>
    <ul class="controllers<% if (!list_view || reached_limit) { %> hidden<% } %>">
      <li><a href="#" class="all">select all</a><a href="#" class="none">clear selection</a></li>
    </ul>
    <% } %>

  </div>

</div>

<div class="fields <%= column_type %> <%= status %>">

  <div class="data">
    <div class="white-gradient-shadow top"></div>
    <div class="scroll">
      <ul class="items"></ul>
    </div>
    <div class="white-gradient-shadow bottom"></div>
  </div>

  <div class="textarea">
    <a href="#" class="apply"></a>
    <textarea name="query" placeholder="Start writing to search in this column"><%= free_text %></textarea>
  </div>

  <% if (status == "loaded") { %>
  <div class="options">
    <div class="view_mode"<% if (reached_limit) { %> title="List view is disabled due to<br />the large amount of registers" <% } %>>
      <a href="#switch" class="switch enabled<% if (reached_limit) { %> disabled<% } %>"><span class="handle"></span></a> 
      <label>view as list</label>
    </div>

    <div class="scrollers">
      <a href="#" class="up disabled btn"></a>
      <a href="#" class="down btn"></a>
    </div>

  </div>
</div>
<% } %>
